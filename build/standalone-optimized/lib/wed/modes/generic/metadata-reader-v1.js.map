{"version":3,"sources":["../../../wed/modes/generic/metadata-reader-v1.ts"],"names":[],"mappings":";;;;;;;;;;;;;IAWA,0CAA0C;IAC1C;QAAyB,8BAAY;QACnC,oBAAY,QAAkB;mBAC5B,kBAAM,GAAG,EAAE,QAAQ,CAAC;QACtB,CAAC;QAED,6BAAQ,GAAR,UAAS,IAAa;YACpB,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,yCAAoB,GAApB,UAAqB,IAAW;YAC9B,IAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;YACnC,EAAE,CAAC,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC;gBACvB,MAAM,CAAC,SAAS,CAAC;YACnB,CAAC;YAED,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YAC1C,EAAE,CAAC,CAAC,UAAU,KAAK,SAAS,CAAC,CAAC,CAAC;gBAC7B,MAAM,CAAC,SAAS,CAAC;YACnB,CAAC;YAED,6DAA6D;YAC7D,mEAAmE;YACnE,UAAU,GAAG,UAAU,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YAE1C,MAAM,CAAI,IAAI,YAAO,UAAU,UAAO,CAAC;QACzC,CAAC;QACH,iBAAC;IAAD,CA1BA,AA0BC,CA1BwB,wCAAY,GA0BpC;IAED;;OAEG;IACH;QAAsC,oCAAkB;QAGtD;mBACE,kBAAM,UAAU,CAAC;QACnB,CAAC;QAJsB,wBAAO,GAAW,GAAG,CAAC;QAK/C,uBAAC;KAND,AAMC,CANqC,8CAAkB,GAMvD;IANY,4CAAgB","file":"metadata-reader-v1.js","sourcesContent":["/**\n * Reading facilities for version 1 of the metadata format.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nimport { EName } from \"salve\";\n\nimport { Metadata } from \"./metadata-as-json\";\nimport { MetadataBase, MetadataReaderBase } from \"./metadata-versioned-reader\";\n\n// tslint:disable-next-line:completed-docs\nclass MetadataV1 extends MetadataBase {\n  constructor(metadata: Metadata) {\n    super(\"1\", metadata);\n  }\n\n  isInline(node: Element): boolean {\n    return false;\n  }\n\n  documentationLinkFor(name: EName): string | undefined {\n    const root = this.metadata.dochtml;\n    if (root === undefined) {\n      return undefined;\n    }\n\n    let unresolved = this.unresolveName(name);\n    if (unresolved === undefined) {\n      return undefined;\n    }\n\n    // The TEI odd2html stylesheet creates file names of the form\n    // prefix_local-name.html. So replace the colon with an underscore.\n    unresolved = unresolved.replace(\":\", \"_\");\n\n    return `${root}ref-${unresolved}.html`;\n  }\n}\n\n/**\n * A reader that reads version 1 of the metadata format.\n */\nexport class MetadataReaderV1 extends MetadataReaderBase {\n  public static readonly version: string = \"1\";\n\n  constructor() {\n    super(MetadataV1);\n  }\n}\n"]}