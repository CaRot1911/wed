{"version":3,"file":"error-layer.js","sourceRoot":"","sources":["../../../../../lib/wed/gui/error-layer.ts"],"names":[],"mappings":"AAAA;;;;;GAKG;;;;;;;;;;;;;;IAIH;;OAEG;IACH;QAAgC,8BAAK;QACnC,oBAA+B,EAAe;YAA9C,YACE,kBAAM,EAAE,CAAC,SACV;YAF8B,QAAE,GAAF,EAAE,CAAa;;QAE9C,CAAC;QAED,2BAAM,GAAN,UAAO,MAAmB;YACxB,EAAE,CAAC,CAAC,MAAM,CAAC,UAAU,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;gBAClC,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,CAAC;YAChE,CAAC;YAED,IAAI,CAAC,WAAW,EAAE,CAAC;YAEnB,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACnC,CAAC;QAED,gCAAW,GAAX;YACE,IAAI,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CAAC;YACtC,OAAO,KAAK,KAAK,IAAI,EAAE,CAAC;gBACtB,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBACnC,KAAK,GAAG,KAAK,CAAC,kBAAkB,CAAC;YACnC,CAAC;QACH,CAAC;QACH,iBAAC;IAAD,CAAC,AAtBD,CAAgC,aAAK,GAsBpC;IAtBY,gCAAU;;AAwBvB,oBAAoB","sourcesContent":["/**\n * Specialized layer for error markers.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\n\nimport { Layer } from \"./layer\";\n\n/**\n * Specialized layer for error markers.\n */\nexport class ErrorLayer extends Layer {\n  constructor(protected readonly el: HTMLElement) {\n    super(el);\n  }\n\n  select(marker: HTMLElement): void {\n    if (marker.parentNode !== this.el) {\n      throw new Error(\"marker is not a child of the layer element\");\n    }\n\n    this.unselectAll();\n\n    marker.classList.add(\"selected\");\n  }\n\n  unselectAll(): void {\n    let child = this.el.firstElementChild;\n    while (child !== null) {\n      child.classList.remove(\"selected\");\n      child = child.nextElementSibling;\n    }\n  }\n}\n\n//  LocalWords:  MPL\n"]}