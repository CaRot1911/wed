{"version":3,"sources":["../../../wed/gui/layer-manager.ts"],"names":[],"mappings":";;;IAQA;;OAEG;IACH;QAGE;;WAEG;QACH,sBAA6B,GAAa;YAAb,QAAG,GAAH,GAAG,CAAU;YALzB,WAAM,GAAY,EAAE,CAAC;QAKO,CAAC;QAE9C;;;WAGG;QACH,+BAAQ,GAAR,UAAS,KAAY;YACnB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1B,CAAC;QAED;;;WAGG;QACH,sCAAe,GAAf;YACE,GAAG,CAAC,CAAgB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW;gBAA1B,IAAM,KAAK,SAAA;gBACd,KAAK,CAAC,eAAe,EAAE,CAAC;aACzB;QACH,CAAC;QAED;;;WAGG;QACH,oCAAa,GAAb;YACE,GAAG,CAAC,CAAgB,UAAW,EAAX,KAAA,IAAI,CAAC,MAAM,EAAX,cAAW,EAAX,IAAW;gBAA1B,IAAM,KAAK,SAAA;gBACd,KAAK,CAAC,aAAa,EAAE,CAAC;aACvB;QACH,CAAC;QAED;;;;;;;;;WASG;QACH,gDAAyB,GAAzB,UAA0B,CAAS,EAAE,CAAS;YAC5C,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACzC,CAAC;QACH,mBAAC;IAAD,CAjDA,AAiDC,IAAA;IAjDY,oCAAY","file":"layer-manager.js","sourcesContent":["/**\n * A layer manager allows operating on layers as a group.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nimport { Layer } from \"./layer\";\n\n/**\n * A layer manager allows operating on layers as a group.\n */\nexport class LayerManager {\n  private readonly layers: Layer[] = [];\n\n  /**\n   * @param doc The DOM document for which this manager exists.\n   */\n  constructor(private readonly doc: Document) {}\n\n  /**\n   * Add a layer to the manager. You should not need to do this as layers add\n   * themselves at initialization.\n   */\n  addLayer(layer: Layer): void {\n    this.layers.push(layer);\n  }\n\n  /**\n   * Temporarily hide the layers. The previous visibility will be restored by\n   * [[popVisibility]].\n   */\n  hideTemporarily(): void {\n    for (const layer of this.layers) {\n      layer.hideTemporarily();\n    }\n  }\n\n  /**\n   * Undo the hiding that was done with [[hideTemporarily]]. It is an error to\n   * call this more than [[hideTemporarily]] was called.\n   */\n  popVisibility(): void {\n    for (const layer of this.layers) {\n      layer.popVisibility();\n    }\n  }\n\n  /**\n   * Returns the element under the point, ignoring the editor's layers.\n   *\n   * @param x The x coordinate.\n   *\n   * @param y The y coordinate.\n   *\n   * @returns The element under the point, or ``undefined`` if the point is\n   * outside the document.\n   */\n  elementAtPointUnderLayers(x: number, y: number): Element | undefined {\n    return this.doc.elementFromPoint(x, y);\n  }\n}\n"]}