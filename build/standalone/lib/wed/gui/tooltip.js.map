{"version":3,"file":"tooltip.js","sourceRoot":"","sources":["../../../../../lib/wed/gui/tooltip.ts"],"names":[],"mappings":"AAAA;;;;;GAKG;;;;;;;;IAKH,sBAAsB,EAAS;QAC7B,IAAM,IAAI,GAAG,EAAE,CAAC,MAAiB,CAAC;QAClC,IAAM,EAAE,GAAG,gBAAC,CAAC,IAAI,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;QACtC,gBAAC,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,iBAAiB,EAAE,IAAI,CAAC,CAAC;IAC/C,CAAC;IAED;;;;;;;;;;;;;;;OAeG;IACH,iBAAwB,IAAY,EAAE,OAAuB;QACzD,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACtB,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAEzC,qEAAqE;QACrE,4EAA4E;QAC5E,4EAA4E;QAC5E,4EAA4E;QAC5E,iDAAiD;QACjD,IAAI,CAAC,EAAE,CAAC,iBAAiB,EAAE,YAAY,CAAC,CAAC;IAC3C,CAAC;IAVH,0BAUG;;AAEH,iDAAiD","sourcesContent":["/**\n * Tooltips for elements that appear in the editor pane.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\n\nimport \"bootstrap\";\nimport $ from \"jquery\";\n\nfunction _showHandler(ev: Event): void {\n  const for_ = ev.target as Element;\n  const tt = $.data(for_, \"bs.tooltip\");\n  $.data(tt.tip()[0], \"wed-tooltip-for\", for_);\n}\n\n/**\n * Creates a tooltip for an element. This function must be used to create *all*\n * tooltips that are associated with elements that appear in a GUI tree. It is\n * not necessary to use this function for tooltips that are outside this tree.\n *\n * This function adds the ``wed-tooltip-for`` data to the tooltip created for\n * the ``$for`` element. This allows getting the DOM element for which a tooltip\n * was created from the DOM element corresponding to the tooltip itself.\n *\n * This function also adds the ``wed-has-tooltip`` class to the ``$for``\n * element. This allows knowing which elements from the GUI tree have tooltips.\n *\n * @param $for The element for which to create a tooltip.\n *\n * @param options The options to pass to Bootstrap to create the tooltip.\n */\nexport function tooltip($for: JQuery, options: TooltipOptions): void {\n    $for.tooltip(options);\n    $for[0].classList.add(\"wed-has-tooltip\");\n\n    // This makes it so that when we find a div element created to hold a\n    // tooltip, we can find the element for which the tooltip was created. We do\n    // this in a show.bs.tooltip handler because the DOM element for the tooltip\n    // won't be created before then. (We could force its creation earlier but it\n    // would pollute the DOM with needless elements.)\n    $for.on(\"show.bs.tooltip\", _showHandler);\n  }\n\n//  LocalWords:  MPL tooltips bs Tooltips tooltip\n"]}