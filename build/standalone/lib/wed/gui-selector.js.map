{"version":3,"file":"gui-selector.js","sourceRoot":"","sources":["../../../../lib/wed/gui-selector.ts"],"names":[],"mappings":";;;IAQA;;OAEG;IACH;QAIE;;WAEG;QACH,qBAA6B,KAAa;YAAb,UAAK,GAAL,KAAK,CAAQ;YACxC,IAAM,QAAQ,GAAG,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAC5C,IAAI,QAAQ,KAAK,SAAS,EAAE;gBAC1B,OAAO,QAAQ,CAAC;aACjB;YAED,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QACpC,CAAC;QAED;;;;WAIG;QACI,wBAAY,GAAnB,UAAoB,QAAgB;YAClC,OAAO,IAAI,WAAW,CAAC,QAAQ,CAAC,CAAC;QACnC,CAAC;QAED;;;;;;;;;;WAUG;QACI,4BAAgB,GAAvB,UAAwB,QAAgB,EAChB,UAAkC;YACxD,OAAO,IAAI,WAAW,CAAC,uBAAa,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC,CAAC;QAC9D,CAAC;QAtCD,yCAAyC;QAC1B,mBAAO,GAAgC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAsC5E,kBAAC;KAAA,AAxCD,IAwCC;IAxCY,kCAAW;;AA0CxB,oBAAoB","sourcesContent":["/**\n * GUI tree selectors.\n * @author Louis-Dominique Dubeau\n * @license MPL 2.0\n * @copyright Mangalam Research Center for Buddhist Languages\n */\nimport { toGUISelector } from \"./domutil\";\n\n/**\n * A \"GUI selector\" is a CSS selector apt to be used in the GUI tree.\n */\nexport class GUISelector {\n  // tslint:disable-next-line:variable-name\n  private static __cache: Record<string, GUISelector> = Object.create(null);\n\n  /**\n   * @param value The value that the selector holds.\n   */\n  private constructor(readonly value: string) {\n    const existing = GUISelector.__cache[value];\n    if (existing !== undefined) {\n      return existing;\n    }\n\n    GUISelector.__cache[value] = this;\n  }\n\n  /**\n   * Make a GUI selector from a CSS selector, as-is.\n   *\n   * @param selector The value that the selector will hold.\n   */\n  static makeVerbatim(selector: string): GUISelector {\n    return new GUISelector(selector);\n  }\n\n  /**\n   * Make a GUI selector from a data selector. The limitations on the selector\n   * are the same as for [[\"wed/domutil\".toGUISelector]].\n   *\n   * @param selector A selector fit for selecting in the data tree.\n   *\n   * @param namespaces The namespace mappings to use to convert prefixes in the\n   * selector.\n   *\n   * @returns A [[GUISelector]] corresponding to the parameters used.\n   */\n  static fromDataSelector(selector: string,\n                          namespaces: Record<string, string>): GUISelector {\n    return new GUISelector(toGUISelector(selector, namespaces));\n  }\n}\n\n//  LocalWords:  MPL\n"]}